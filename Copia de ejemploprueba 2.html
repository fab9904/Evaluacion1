<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@500&display=swap" rel="stylesheet" />
        <style>
            body {
                color: #f4fcf3;
                background: #152f45;
                background-size: 75% auto;
                font-weight: 300;
                font-family: "Tajawal", serif;
            }
            header,
            footer {
                font-family: "Tajawal", sans-serif;
            }
            header.titular {
                height: calc(82vh + 10vw);
            }
            header h1 {
                font-weight: 900;
                font-size: 4.5rem;
                color: #f27f3d;
            }
            header h2 {
                font-weight: 600;
                color: rgba(255, 255, 255, 0.5);
            }
            header h3 {
                font-weight: 400;
            }
            a {
                color: rgba(244, 244, 244, 0.75);
            }
            a:hover {
                color: rgba(255, 255, 255, 1);
            }
            header p a {
                font-weight: 700;
                text-decoration: none;
                color: #e8a833;
            }
            main p a {
                text-decoration: underline;
            }
            p.primero::first-letter {
                color: #f27f3d;
                float: left;
                font-size: 5rem;
                line-height: 1;
                margin: 0;
                padding: 0 0.65rem 0 0;
            }
            div.card {
                background: #035054;
            }
            .bg-cierre {
                background: #000035;
            }
            video {
                float: center;
                height: calc(50vh + 10vw);
            }
        </style>
      <title>Terremotos en Chile</title>
   </head>
   <body>
      <header class="titular">
        <video playsinline loop autoplay muted class="w-100">
            <source src="assets/valdiviatsunami.mp4" type="video/mp4">
            <source src="assets/valdiviatsunami.webm" type="video/webm">
        </video>
         <div class="container h-20">
            <div class="row h-100">
               <div class="col-md-6 mx-auto text-center align-self-end">
                  <h2 class="fs-6">Terremotos en Chile</h2>
                  <h1>Terremotos</h1>
                  <h3 class="fs-5 mb-5">Grandes Terremotos en Chile.</h3>
                  <p class="m-0">Por <a href="https://github.com/fab9904">Fabiola Sánchez</a></p>
                  <p class="small">PUBLICADO EL 12 DE MAYO, 2022</p>
               </div>
            </div>
         </div>
      </header>
      <main>
         <div class="container py-5">
            <div class="row">
               <div class="col-md-6 mx-auto">
                  <p class="primero">Ubicado en el llamado Cinturón de Fuego del Pacífico, Chile es una de las regiones más sísmicas del planeta. Bajo su territorio convergen y subductan las placas oceánicas de Nazca y Antártica bajo la placa
                     continental Sudamericana, provocando periódicamente movimientos telúricos de diversa magnitud que en ocasiones desencadenan gigantescas catástrofes. En el sector austral del continente, la sismicidad está
                     asociada al proceso de deslizamiento horizontal entre la placa Scotia y la Sudamericana, originando la Falla de Magallanes-Fagnano.
                  <p>¿QUÉ ES UN SISMO?</p>
                  <p>Un sismo es un movimiento de la superficie terrestre. Es un proceso de liberación súbita de una gran cantidad de energía debido principalmente al roce de placas tectónicas, fallas geológicas o volcanismo.</p>
                  <p>La mayoría de los sismos destructores en Chile están relacionados al movimiento convergente de la placa de Nazca por debajo de la placa Sudamericana; estas placas que se comprimen entre sí, acumulan una gran cantidad de energía a lo largo de su zona de contacto, produciendo deformación en sus bordes. Cuando la energía almacenada es lo suficientemente grande, estas placas se mueven liberando parte de la energía y deformación acumulada durante decenas o cientos de años.</p>
                  <p>Mercalli:</p>
                  <p>Los efectos que pueden ocasionar estos sismos dependen de la distancia al epicentro y del movimiento del suelo (desplazamiento, velocidad y aceleración) y se miden según la escala de Intensidad Mercalli, del I al XII.</p>
                  <p>Richter:</p>
                  <p>La energía liberada en la zona de ruptura de un sismo se mide en grados según la escala de Magnitud Richter (ej: terremoto Valdivia de 1960, magnitud 9.5 Richter), que no posee limite superior.
                  </p>
                  <em>A continuación se pueden observar gráficos con algunos de los principales terremotos y efectos, acontecidos por sector en Chile.</em>
                  <p><em>Se trata de los principales terremotos que han afectado al país y en general, se incluyen aquellos terremotos que han alcanzado una magnitud superior a 7 en la escala sismológica de Richter.</em></p>
                  <a href="https://github.com/pibi99/intento1/blob/main/terremotos.csv" target="_blank" class="link-light"></a></p>
                  <main class="container">
                     <div class="accordion mx-md-5 my-5 rounded-100" id="accordionExample">
                        <!--Edades de pasajeros-->
                              <div class="accordion-body text-white-90">
                                 <p>
                                    De la cantidad de Tsunamis acontecidos, <span id="Tsunamis"></span> de ellos fueron tsunamis, con alerta activada y luego descartada <span id="alertatsunami"></span>, otros fueron micro tsunami (con olas
                                    inferiores a los 30 metros)
                                    <span id="micro_tsunami"></span>.
                                 </p>
                                 <canvas id="tsunamis" width="100" height="100" class="m-10"></canvas>
                              </div>
                           </div>
                        </div>
                        <div class="accordion mx-md-5 my-5 rounded-100" id="accordionExample">
                              <div class="accordion-body text-white-90">
                                 <p>
                                    La cantidad de terremotos por sector fue de: <span id="norte_grande"></span> en el Norte Grande, <span id="norte_chico"></span> en el Norte Chico, <span id="zona_central"></span> en la
                                    Zona Central, <span id="zona_sur"></span> en la Zona Sur y en la Zona Autral <span id="zona_austral"></span>.
                                 </p>
                                 <canvas id="ZonasAfectadas" width="400" height="200" class="m-10"></canvas>
                              </div>
                           </div>
                        </div>
                  </main>
                  <div class="col-md-6 mx-auto">
                     <p><em>En general, en Chile se reserva la palabra «terremoto» para los eventos sísmicos de mayor intensidad o que han producido daños, mientras que los términos «sismo» y «temblor» se utilizan para eventos de menor magnitud.</em></p>
                  </div>
               <div class="container">
                   <div class="row">
                       <div class="col-md-6 mx-auto">
                           <h1 class="mt-5 text-center">Línea de tiempo</h1>
                           <div id="secuencia" class="m-5"></div>
                       </div>
                   </div>
               </div>
               <div class="col-md-6 mx-auto">
                 <p><em>Las imagenes anteriores corresponden a registros fotográficos de terremotos anteriores y como estos dejaron algunos lugares del país entre el año 1906 y 2010.</em></p>
                  <p><em>Un aconteciemiento muy importante es el terremoto de Valdivia en el año 1960</em>. El terremoto de mayor magnitud registrado en el mundo -9,5-, devastó las provincias de Cautín, Valdivia, Osorno, Llanquihue y Chiloé, al extenderse la zona de ruptura entre las penínsulas de Arauco
                     y Taitao, por cerca de 100 km. causando graves daños en la ciudad de Valdivia. El sismo fue acompañado por un tsunami que provocó una sucesión de enormes olas que arrasaron con las ciudades costeras frente a la
                     zona de ruptura produciendo víctimas fatales -incluso- en lugares tan alejados como Japón. Asimismo, hubo grandes levantamientos y hundimientos del terreno. Algunas zonas quedaron sumergidas bajo el mar, al mismo
                     tiempo que un derrumbe en el río San Pedro provocó un aumento de volumen del lago Riñiue que, de no haber sido solucionado rápidamente, habría arrasado con lo que quedaba de Valdivia.
                  </p>
                  <p class="small my-5">Información adicional: Esta página se trata de un trabajo para el electivo de <a href="https://github.com/profesorfaco/front-end">Introducción al Desarrollo Front End con HTML, CSS y JavaScript</a>; el cual está inspirado en <a href="https://graphics.reuters.com/TONGA-VOLCANO/LIGHTNING/zgpomjdbypd/index.html">Analysing the volcanic lightning from the Tonga eruption</a>, que originalmente fue desarrollado para <a href="https://graphics.reuters.com/">Reuters Graphics</a> por Manas Sharma y Simon Scarr; que el trabajo se resuelve con <a href="https://getbootstrap.com/">Bootstrap</a> y <a href="https://www.chartjs.org/">Charts.js</a>, además de consultas a un <a href="https://raw.githubusercontent.com/MinCiencia/Datos-COVID19/master/output/producto5/TotalesNacionales.csv">CSV</a> y un <a href="https://api-sismologia-chile.herokuapp.com/">JSON</a>; etc.</p>
                  <p>
                    Fuentes:
                    <a href="http://www.memoriachilena.gob.cl/602/w3-article-3576.html">Memoria chilena.</a>,
                    <a href="https://rpubs.com/psandoval/554600">RPubs - Terremotos</a>, <a href="https://es.wikipedia.org/wiki/Anexo:Terremotos_en_Chile">Terremotos en Chile</a>.
                  </p>
               </div>
            </div>
      </main>
      <footer class="bg-cierre">
         <div class="container">
            <div class="row py-3">
               <div class="col text-center"><small>Fabiola Sánchez | 12 de mayo, 2022</small></div>
            </div>
         </div>
      </footer>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ=="
         crossorigin="anonymous"
         referrerpolicy="no-referrer"></script><
         <script>
         async function todo() {
           const consulta = await fetch("https://raw.githubusercontent.com/pibi99/intento1/main/datos%20(3).json");
           const data = await consulta.json();
                     //algunas variables para calcular
                     var tsunamis = 28;
                       var alertadescartada = 8;
                       var micro = 3;

                       var NorteG = 94;
                       var NorteC = 59;
                       var ZonaC = 83;
                       var ZonaS = 47;
                       var ZonaA = 8;

                       var peliculas = [
                           { img: "http://www.memoriachilena.gob.cl/602/articles-71042_thumbnail.jpg", txt: "Calle Blanco esquina Edwards, Valparaíso, tras el terremoto de 1906." },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-87207_thumbnail.jpg", txt: "Una de las calles de Coquimbo después del maremoto, noviembre de 1922." },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-71750_thumbnail.jpg", txt: "Consecuencias del terremoto de Talca: calle 7 Oriente, 1928." },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-71756_thumbnail.jpg", txt: "Consecuencias del terremoto de Talca: nicho derrumbado, 1928." },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-71050_thumbnail.jpg", txt: "Calle Lincoyán, Concepción, tras el terremoto de 1939." },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-71049_thumbnail.jpg", txt: "Calle de Chillán tras el terremoto de 1939" },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-71080_thumbnail.jpg", txt: "Barcos e industrias destruidas en Valdivia tras el maremoto de 1960." },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-87217_thumbnail.jpg", txt: "Destrucción producida por el terremoto y tsunami, Iloca, febrero de 2010." },
                           { img: "http://www.memoriachilena.gob.cl/602/articles-87226_thumbnail.jpg", txt: "Calle principal de Iloca, febrero de 2010" },
                       ];

                       data.forEach((d) => {
                           if (d.tsunami == "T") {
                               tsunamis = tsunamis + 1;
                           } else if (d.tsunami == "AD") {
                               alertadescartada = alertadescartada + 1;
                           } else if (d.tsunami == "mT") {
                               micro = micro + 1;
                           }

                           if ((d.Zonasafectadas == "Región Metropolitana", "VII", "V")) {
                               ZonaC = ZonaC + 1;
                           } else if ((d.Zonasafectadas == "XV", "I", "II")) {
                               NorteG = NorteG + 1;
                           } else if ((d.Zonasafectadas == "III", "IV", "XVI")) {
                               NorteC = NorteC + 1;
                           } else if ((d.Zonasafectadas == "VIII", "IX", "XIV", "X")) {
                               ZonaS = ZonaS + 1;
                           } else if ((d.Zonasafectadas == "XI", "XII")) {
                               ZonaA = ZonaA + 1;
                           }
                           });

                         console.log(tsunamis);
                         console.log(alertadescartada);
                         console.log(micro);

                         console.log(NorteG);
                         console.log(NorteC);
                         console.log(ZonaC);
                         console.log(ZonaS);
                         console.log(ZonaA);

                         document.querySelector("#Tsunamis").innerHTML = tsunamis;
                         document.querySelector("#alertatsunami").innerHTML = alertadescartada;
                         document.querySelector("#micro_tsunami").innerHTML = micro;

                         document.querySelector("#norte_grande").innerHTML = NorteG;
                         document.querySelector("#norte_chico").innerHTML = NorteC;
                         document.querySelector("#zona_central").innerHTML = ZonaC;
                         document.querySelector("#zona_sur").innerHTML = ZonaS;
                         document.querySelector("#zona_austral").innerHTML = ZonaA;

                         peliculas.forEach(function (p, i) {
                             if (i % 2 == 0) {
                                 document.getElementById("secuencia").innerHTML +=
                                     '<figure class="row d-flex align-items-center"><img src="' +
                                     p.img +
                                     '" class="img-fluid col-12 col-md-6 rounded-circle" /><figcaption class="col-12 col-md-6"><p class="small py-2 text-center text-md-start">' +
                                     p.txt +
                                     "</p></figcaption></figure>";
                             } else {
                                 document.getElementById("secuencia").innerHTML +=
                                     '<figure class="row d-flex align-items-center"><img src="' +
                                     p.img +
                                     '" class="img-fluid col-12 col-md-6 rounded-circle order-md-2" /><figcaption class="col-12 col-md-6 order-md-1"><p class="small py-2 text-center text-md-end">' +
                                     p.txt +
                                     "</p></figcaption></figure>";
                             }
                         });

                     new Chart(document.getElementById("tsunamis").getContext("2d"), {
                         type: "pie",
                         data: {
                             labels: ["Tsunamis acontecidos", "Alerta de tsunami y luego descartada", "Micro tsunami"],
                             datasets: [{ data: [25,8,3], label: "Tsunamis en Chile", backgroundColor: ["#003C7A", "#A8783D", "#822307"] }],

                 },
             });

             new Chart(document.getElementById("ZonasAfectadas").getContext("2d"), {
                 type: "bar",
                 data: {
                     labels: ["NorteGrande", "NorteChico", "ZonaCentral", "ZonaSur", "ZonaAustral"],
                     datasets: [{ data: [94,59,83,47,8], label: "Cantidad de terremotos por zona afectada en los diferentes sectores del país", backgroundColor: ["#03356e", "#01452c", "#8f5f11", "#458b74", "#78020a"] }],
                   },
                   options: {
                       indexAxis: "y",
                 },
             });

         }
         todo().catch((error) => console.error(error));
      </script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
   </body>
</html>
